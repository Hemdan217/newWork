!function(e){var o;"function"==typeof e&&(o=e,e=null),function(o,n,t,r,s){var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof c[r]&&c[r],a=i.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,n){if(!a[e]){if(!o[e]){var t="function"==typeof c[r]&&c[r];if(!n&&t)return t(e,!0);if(i)return i(e,!0);if(l&&"string"==typeof e)return l(e);var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}p.resolve=function(n){var t=o[e][1][n];return null!=t?t:n},p.cache={};var d=a[e]=new u.Module(e);o[e][0].call(d.exports,p,d,d.exports,this)}return a[e].exports;function p(e){var o=p.resolve(e);return!1===o?{}:u(o)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=o,u.cache=a,u.parent=i,u.register=function(e,n){o[e]=[function(e,o){o.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return c[r]}}),c[r]=u;for(var d=0;d<n.length;d++)u(n[d]);if(t){var p=u(t);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):s&&(this[s]=p)}}({kgW6q:[function(e,o,n){e("../../../background")},{"../../../background":"dHFmR"}],dHFmR:[function(e,o,n){var t;let r;chrome.runtime.onMessage.addListener(async function(e,o,n){if("start"===e.action)console.log(e.payload),t=e.payload;else if("checkThisUrl"===e.action)return console.log(e.action),fetch("http://178.170.48.29:5000/prediction",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({url:e.payload})}).then(function(o){return console.log(e.payload),o.json()}).then(function(e){console.log(e),n(e)}).catch(function(e){console.log(e),n({error:"An error occurred"})}),!0});let s=!1;async function c(e){if("main_frame"===e.type&&0===e.frameId&&!(e.url.includes("chrome-extension:")||e.url.includes("chrome:"))){let o=e.url,n=await a(o,e.tabId);console.log(o,"onBeforeRequest"),console.log(n,"prediction")}return{cancel:s}}function i(e){return(console.log(s),"http://178.170.48.29:5000/prediction"===e.url||e.url.includes("chrome-extension:"))?{cancel:!1}:{cancel:s}}async function a(e,o){r=o,chrome.webRequest.onBeforeRequest.removeListener(i,{tabId:r});try{let n=await fetch("http://178.170.48.29:5000/prediction",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({url:e})}),c=await n.json(),a=c?.predict;return"NORMAL"===a?s=!1:"MALICIOUS"===a&&(s=!0),l(a,o),chrome.webRequest.onBeforeRequest.addListener(i,{urls:["<all_urls>"],tabId:r},["blocking"]),a}catch(e){return console.error(e),null}}async function l(e,o){"NORMAL"===e?chrome.browserAction.setIcon({tabId:o,path:{16:"./../../assets/normal/icon16.plasmo.6c567d50.png",32:"./../../assets/normal/icon32.plasmo.76b92899.png",48:"./../../assets/normal/icon48.plasmo.aced7582.png",64:"./../../assets/normal/icon64.plasmo.8bb5e6e0.png",128:"./../../assets/normal/icon128.plasmo.3c1ed2d2.png"}}):"MALICIOUS"===e?chrome.browserAction.setIcon({tabId:o,path:{16:"./../../assets/icon16.plasmo.6c567d50.png",32:"./../../assets/icon32.plasmo.76b92899.png",48:"./../../assets/icon48.plasmo.aced7582.png",64:"./../../assets/icon64.plasmo.8bb5e6e0.png",128:"./../../assets/icon128.plasmo.3c1ed2d2.png"}}):chrome.browserAction.setIcon({tabId:o,path:{16:"./../../assets/no/icon16.plasmo.2577fc03.png",32:"./../../assets/no/icon32.plasmo.d583dc1e.png",48:"./../../assets/no/icon48.plasmo.e0fcfb1d.png",64:"./../../assets/no/icon64.plasmo.e6259081.png",128:"./../../assets/no/icon128.plasmo.96a1ede9.png"}}),await chrome.tabs.sendMessage(o,{prediction:e})}chrome.webRequest.onBeforeRequest.addListener(c,{urls:["<all_urls>"],types:["main_frame"]},["blocking"])},{}]},["kgW6q"],"kgW6q","parcelRequire91c9"),globalThis.define=o}(globalThis.define);